<div class="container my-4">
  <app-post
    *ngFor="let post of posts$ | async"
    [post]="post"
    [user]="user"
    class="row align-items-center mb-2 border bg-light"
  ></app-post>
  <button
    type="button"
    class="btn btn-outline-primary mr-2"
    (click)="open(add)"
  >Добавить пост</button>
</div>

<ng-template #add let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Добавление поста</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div
        class="form-group"
        [formGroup]="postForm"
        (ngSubmit)="modal.close('add')"
      >
        <label for="text">Text</label>
        <div class="input-group mb-3">
          <textarea id="text" class="form-control" name="text" formControlName="text"></textarea>
        </div>
        <label for="formFile" class="form-label">Добавить pdf-файл</label>
        <div class="input-group py-3">
          <input class="form-control form-control-sm" type="file" id="file" formControlName="file">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      class="btn btn-outline-primary mr-2"
      type="submit"
      (click)="modal.close('add')"
    >Ок</button>
    <button
      type="button"
      class="btn btn-outline-secondary mr-2"
      (click)="modal.close()"
    >Отмена</button>
  </div>
</ng-template>
